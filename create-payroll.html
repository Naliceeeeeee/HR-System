<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="./assets/css/style.css">

    <link rel="stylesheet" href="./assets/css/skin/color-3.css">

    <!--========= Style switcher========= -->
    <link rel="stylesheet" href="./assets/css/skin/color-1.css" class="alternate-style" title="color-1" disabled>
    <link rel="stylesheet" href="./assets/css/skin/color-2.css" class="alternate-style" title="color-2" disabled>
    <link rel="stylesheet" href="./assets/css/skin/color-3.css" class="alternate-style" title="color-3" disabled>
    <link rel="stylesheet" href="./assets/css/skin/color-4.css" class="alternate-style" title="color-4" disabled>
    <link rel="stylesheet" href="./assets/css/skin/color-5.css" class="alternate-style" title="color-5" disabled>
</head>

<body>

    <!-- html for sidedar start here -->
    <div class="sidebar">
        <div class="logo-details">
            <i class='bx bxl-ok-ru'></i>
            <span class="logo_name">HR<span style="color: var(--skin-color);">MS</span></span>
        </div>
        <ul class="nav-links">
            <li>
                <a href="#">
                    <i class='bx bx-grid-alt'></i>
                    <span class="link_name">Dashboard</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="#" class="link_name">Dashboard</a></li>
                </ul>
            </li>

            <li>
                <a href="#">
                    <i class="bx bx-user icon"></i>
                    <span class="link_name">Employee</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="#" class="link_name">Employee</a></li>
                </ul>
            </li>

            <li class="active-bar">
                <a href="#">
                    <i class='bx bx-spreadsheet'></i>
                    <span class="link_name">Payroll</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="#" class="link_name">Payroll</a></li>
                </ul>
            </li>

            <li>
                <div class="icon-link">
                    <a href="#">
                        <i class='bx bxs-report'></i>
                        <span class="link_name">Report</span>
                    </a>
                    <i class='bx bxs-chevron-down arrow'></i>
                </div>
                <ul class="sub-menu">
                    <li class="no-list"><a href="#" class="link_name">Report</a></li>
                    <li><a href="#">Monthly Attendance</a></li>
                    <li><a href="#">Leave</a></li>
                    <li><a href="#">Payroll</a></li>
                    <li><a href="#">Timesheet</a></li>

                </ul>
            </li>

            <li>
                <div class="icon-link">
                    <a href="#">
                        <i class='bx bx-timer'></i>
                        <span class="link_name">Timesheet</span>
                    </a>
                    <i class='bx bxs-chevron-down arrow'></i>
                </div>
                <ul class="sub-menu">
                    <li class="no-list"><a href="#" class="link_name">Timesheet</a></li>
                    <li><a href="#">Manage Leave</a></li>
                    <li><a href="#">Attendance</a></li>

                </ul>
            </li>

            <li>
                <div class="icon-link">
                    <a href="#">
                        <i class='bx bx-check-square'></i>
                        <span class="link_name">Approval</span>
                    </a>
                    <i class='bx bxs-chevron-down arrow'></i>
                </div>
                <ul class="sub-menu">
                    <li class="no-list"><a href="#" class="link_name">Approval</a></li>
                    <li><a href="#">Answer grievance</a></li>
                    <li><a href="#">Loan Approval</a></li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <i class='bx bx-briefcase'></i>
                    <span class="link_name">Jobs</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="#" class="link_name">Jobs</a></li>
                </ul>
            </li>

            <li>
                <div class="icon-link">
                    <a href="#">
                        <i class='bx bx-walk'></i>
                        <span class="link_name">Shift</span>
                    </a>
                    <i class='bx bxs-chevron-down arrow'></i>
                </div>
                <ul class="sub-menu">
                    <li class="no-list"><a href="#" class="link_name">Shift</a></li>
                    <li><a href="#">Add shift</a></li>
                    <li><a href="#">shift Employee</a></li>
                </ul>
            </li>
            <li>
                <a href="#">
                    <i class='bx bx-message-dots'></i>
                    <span class="link_name">Message</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="#" class="link_name">Message</a></li>
                </ul>
            </li>

            <li>
                <a href="#">
                    <i class='bx bx-user-x'></i>
                    <span class="link_name">Disciplinary</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="#" class="link_name">Disciplinary</a></li>
                </ul>
            </li>

            <li>
                <a href="Department.html">
                    <i class='bx bx-cog'></i>
                    <span class="link_name">HR system setup</span>
                </a>
                <ul class="sub-menu blank">
                    <li class="no-list"><a href="Department.html" class="link_name">HR system setup</a></li>
                </ul>
            </li>

        </ul>
    </div>
    <!-- html for sidedar ends here -->
    <section class="content">


        <!-- html for nanbar start here -->
        <nav>
            <div class="two">
                <i class="bx bx-menu"></i>
                <input class="search" type="search" placeholder="Type to search"><i class='bx bx-search-alt-2'></i>
            </div>
            <div class="sec">
                <div class="theme-toggler">
                    <!-- <span class="material-icons-sharp active">light_mode</span> -->
                    <span class="active"><i class="bx bx-sun"></i></span>
                    <!-- <span class="material-icons-sharp">dark_mode</span> -->
                    <span><i class="bx bx-moon"></i></span>
                </div>
                <div class="manage">
                    <div class="notifications">
                        <div class="icon_wrap">
                            <a href="#">
                                <span><i class='bx bx-bell bx-tada'></i></span>
                                <span class="badge">5</span>
                            </a>
                        </div>
                        <div class="notification_dd">
                            <ul class="notification_ul">
                                <li class="starbucks success">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            Lorem, ipsum dolor.
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>11:05am</p>
                                    </div>
                                </li>
                                <li class="baskin_robbins failed">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            Lorem, ipsum dolor.
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>08:00am</p>
                                    </div>
                                </li>
                                <li class="mcd success">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            Lorem, ipsum dolor.
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>9/4/2023</p>
                                    </div>
                                </li>
                                <li class="pizzahut failed">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            Lorem, ipsum dolor.
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>9/4/2023</p>
                                    </div>
                                </li>
                                <li class="kfc success">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            Lorem, ipsum dolor.
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>9/4/2023</p>
                                    </div>
                                </li>
                                <li class="show_all">
                                    <p class="link">Show All Activities</p>
                                </li>
                            </ul>
                        </div>
                    </div>



                    <div class="message">
                        <div class="icon_wrap">
                            <a href="#">
                                <span><i class='bx bx-envelope bx-tada'></i></span>
                                <span class="badge">2</span>
                            </a>
                        </div>
                        <div class="message_dd">
                            <ul class="message_ul">
                                <li class="starbucks success">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            namubirualice2000@gmail.com
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>11:05am</p>
                                    </div>
                                </li>
                                <li class="baskin_robbins failed">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            namubirualice2000@gmail.com
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>08:00am</p>
                                    </div>
                                </li>
                                <li class="mcd success">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            rickrambo78@gmail.com
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>9/4/2023</p>
                                    </div>
                                </li>
                                <li class="pizzahut failed">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            namubirualice2000@gmail.com
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>9/4/2023</p>
                                    </div>
                                </li>
                                <li class="kfc success">
                                    <div class="notify_icon">
                                        <span class="icon"></span>
                                    </div>
                                    <div class="notify_data">
                                        <div class="title">
                                            kikajjosda@gmail.com
                                        </div>
                                        <div class="sub_title">
                                            Lorem ipsum dolor sit amet consectetur.
                                        </div>
                                    </div>
                                    <div class="notify_status">
                                        <p>9/4/2023</p>
                                    </div>
                                </li>
                                <li class="show_all">
                                    <p class="link">Show All Activities</p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <span class="style-switcher-toggler s-icon"><i class='bx bx-cog bx-spin'></i></span>
                    </div>
                    <div class="style-switcher">
                        <h4>Theme colors</h4>
                        <div class="colors">
                            <span class="color-1" onclick="setActiveStyle('color-1')"></span>
                            <span class="color-2" onclick="setActiveStyle('color-2')"></span>
                            <span class="color-3" onclick="setActiveStyle('color-3')"></span>
                            <span class="color-4" onclick="setActiveStyle('color-4')"></span>
                            <span class="color-5" onclick="setActiveStyle('color-5')"></span>
                        </div>
                    </div>

                </div>
                <div class="profile">
                    <div class="info">
                        <p>Hey, <b>Namubiru Alice</b></p>
                        <small class="text-muted1">Admin</small>
                    </div>
                    <div class="profile-photo icon_wrap" style="cursor: pointer;">
                        <img src="./assets/img/face girl.jpg" alt="">
                    </div>

                    <div class="profile_dd">
                        <ul class="profile_ul">
                            <li><a class="logout" href="#"><span class="picon"><i class='bx bxs-user'></i></span>
                                    &nbsp;Profile</a></li>
                            <li><a class="logout" href="#"><span class="picon"><i class='bx bx-log-out'></i></span>&nbsp;Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
        <!-- html for nanbar ends here -->
        <!-- html for main part starts here -->
        <main>
            <div class="container">
                <h1 class="title">Create Payroll</h1>
                <ul class=" emp" style="line-height: none;">
                    <li><a href="#">Home</a></li>
                    <li class="divider">/</li>
                    <li><a href="create-payroll.html" class="active">Create Payroll</a></li>
                </ul>
                <div class="hr"></div>
               
                <div class="campany-details">
                    <div class="personal-details">
                        <div class="heading">
                            <div class="color-top"></div>
                            <div class="begin">
                                <h2>Employee Information</h2>
                            </div>
                        </div>
                        <hr>

                        <form action="#">

                            <div class="row g-3">
                                <div class="col-md-3">
                                    <label>Desigination</label>
                                    <select class=" form-select form-select-sm" aria-label="Default select example">
                                        <option value="May">IT</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label>Employee Name</label>
                                    <select class=" form-select form-select-sm" aria-label="Default select example">
                                        <option value="May">Namubiru Alice</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label >Year</label>
                                  <input type="text" class="form-control form-name"
                                      placeholder="Enter the Year...">
                                </div>
                                <div class="col-md-3">
                                  <label >Month</label>
                                  <input type="text" class="form-control form-name"
                                      placeholder="Enter the Month...">
                                </div>
                            </div>

                    </div>
                    </form>
                </div>

                <div class="create-employee mt-1">
                    <div class="personal-details">
                        <div class="heading">
                            <div class="color-top"></div>
                            <div class="begin">
                                <h2>Total Allowances</h2>
                            </div>
                        </div>
                        <hr>
                        <form action="#">
                            <div id="dynamicRows" class="allowances"> <!-- Added "allowances" class -->
                                <!-- The first row (fixed) -->
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for="branch">Title</label>
                                        <select class="form-select form-select-sm" name="deductions[]" id="deduct">
                                            <option selected>Select Allowances</option>
                                            <option value="Transport">Transport</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Amount</label>
                                        <input type="text" class="form-control form-control-sm" name="deduction_amount[]" id="deduct_amount">
                                    </div>
                                    <div class="col-md-2 plus">
                                        <a href="#" class="add-row allowances"> <!-- Added "add-row" and "allowances" class -->
                                            <i style="font-size: 25px;" class="bx bx-plus"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>




                    <div class="personal-details">
                        <div class="heading">
                            <div class="color-top"></div>
                            <div class="begin">
                                <h2>Total Deductions</h2>
                            </div>
                        </div>
                        <hr>
                        <form action="#">
                            <div id="dynamicRows" class="deductions"> <!-- Added "deductions" class -->
                                <!-- The first row (fixed) -->
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label for "branch">Title</label>
                                        <select class="form-select form-select-sm" name="allowance[]" id="allow">
                                            <option selected>Select Deductions</option>
                                            <option value="NSSF">NSSF</option>
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label>Amount</label>
                                        <input type="text" class="form-control form-control-sm" name="allowance_amount[]" id="allow_amount">
                                    </div>
                                    <div class="col-md-2 plus">
                                        <a href="#" class="add-row deductions"> <!-- Added "add-row" and "deductions" class -->
                                            <i style="font-size: 25px;" class="bx bx-plus"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </form>


                    </div>
                </div>

                <div class="campany-details">
                    <div class="personal-details">
                        <div class="heading">
                            <div class="color-top"></div>
                            <div class="begin">
                                <h2>Summary</h2>
                            </div>
                        </div>
                        <hr>
                        <form action="#">
                            <div class="row g-3 mb-3">
                                <div class="col">
                                    <label>Gross Pay</label>
                                    <input type="text" placeholder="0.00" class="form-control form-control-sm" id="gross_pay">
                                </div>
                                <div class="col">
                                    <label>Total Allowances</label>
                                    <input type="text" class="form-control form-control-sm" id="total_allowance" name="total_allow" >
                                </div>
                            </div>
                            <div class="row g-3 mb-3">
                                <div class="col">
                                    <label>Total Deductions</label>
                                    <input type="text" class="form-control form-control-sm" id="total_deduction" name="total_deduct">
                                </div>
                                <div class="col">
                                    <label>Net Salary</label>
                                    <input type="text" class="form-control form-control-sm" id="net_salary">
                                </div>
                            </div>
                            <div class="row g-3 mb-3">
                                <div class="col">
                                    <label for="branch">Payment Method</label>
                                    <select class=" form-select form-select-sm" aria-label="Default select example">
                                        <option selected>Select Payment Method</option>
                                        <option value="1">Bank</option>
                                    </select>
                                </div>
                                <div class="col">
                                    <label for="Department">Status<span>*</span></label>
                                    <select class="form-select form-select-sm" aria-label="Default select example">
                                        <option selected>Select Status</option>
                                        <option value="1">Paid</option>
                                        <option value="2">Pending</option>
                                    </select>
                                </div>
                            </div>

                    </div>
                    </form>
                </div>
                <div class="submit" style="margin-left: 22px;">
                    <a href="#" class="btn btn-sm" style="background: var(--skin-color); color: #fff; width: 200px;">Save</a>
                </div>
            </div>


            </div>
        </main>
        <!-- html for main part ends here -->

    </section>
    <!--Html for the footer-->
    <footer class="footer">
        <!-- <div class="hr"></div> -->
        <div class="last">
            <p>&copy;copyright all rights reserved by Namubiru Alice</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
    <script src="./assets/js/sidebar.js"></script>
    <script src="./assets/js/theme-color.js"></script>
    <script src="./assets/js/notification.js"></script>
    <script src="./assets/js/color-picker.js"></script>
    <script>
        $(document).ready(function() {
            // Function to calculate and update total allowance
            function updateTotalAllowance() {
                var total = 0;
                // Iterate through each amount input field and sum up the values
                $('#dynamicRows.allowances .row.g-3').each(function() {
                    var amount = $(this).find('.col-md-4 input').val();
                    // Convert amount to number and add to total
                    total += parseFloat(amount) || 0;
                });
                // Update the total allowance input field
                $('#total_allowance').val(total.toFixed(2)); // Round to 2 decimal places
            }

            // Add a new row in the "Total Allowances" section
            $(document).on('click', '.add-row.allowances', function(event) {
                event.preventDefault(); // Prevent the default link behavior
                var html_code = '<div class="row g-3">';
                html_code += '<div class="col-md-6">';
                html_code += '<label for="branch">Title</label>';
                html_code += '<select class="form-select form-select-sm" aria-label="Default select example">';
                html_code += '<option selected>Select Allowances</option>';
                html_code += '<option value="2000">Shs 2000</option>';
                html_code += '</select>';
                html_code += '</div>';
                html_code += '<div class="col-md-4">';
                html_code += '<label>Amount</label>';
                html_code += '<input type="text" class="form-control form-control-sm">';
                html_code += '</div>';
                html_code += '<div class="col-md-2 plus">';
                html_code += '<a href="#" class="remove-row allowances"><i style="font-size: 25px;" class="bx bx-trash"></i></a>';
                html_code += '</div>';
                html_code += '</div>';

                $('#dynamicRows.allowances').append(html_code);
                updateTotalAllowance(); // Update total after adding a row
            });

            // Remove a row in the "Total Allowances" section
            $(document).on('click', '.remove-row.allowances', function(event) {
                event.preventDefault(); // Prevent the default link behavior
                if ($('#dynamicRows.allowances > .row.g-3').length > 1) {
                    $(this).closest('.row.g-3').remove();
                    updateTotalAllowance(); // Update total after removing a row
                }
            });

            // Listen for changes in amount input fields and update total
            $(document).on('input', '#dynamicRows.allowances .col-md-4 input', updateTotalAllowance);

            // Initial calculation of total allowance
            updateTotalAllowance();
        });


        $(document).ready(function() {
    // Function to calculate and update total deductions
    function updateTotalDeduction() {
        var total = 0;
        // Iterate through each amount input field and sum up the values
        $('#dynamicRows.deductions .row.g-3').each(function() {
            var amount = $(this).find('.col-md-4 input').val();
            // Convert amount to number and add to total
            total += parseFloat(amount) || 0;
        });
        // Update the total deduction input field
        $('#total_deduction').val(total.toFixed(2)); // Round to 2 decimal places
    }

    // Add a new row in the "Total Deductions" section
    $(document).on('click', '.add-row.deductions', function(event) {
        event.preventDefault(); // Prevent the default link behavior
        var html_code = '<div class="row g-3">';
        html_code += '<div class="col-md-6">';
        html_code += '<label for="branch">Title</label>';
        html_code += '<select class="form-select form-select-sm" aria-label="Default select example">';
        html_code += '<option selected>Select Deductions</option>';
        html_code += '<option value="2000">Shs 2000</option>';
        html_code += '</select>';
        html_code += '</div>';
        html_code += '<div class="col-md-4">';
        html_code += '<label>Amount</label>';
        html_code += '<input type="text" class="form-control form-control-sm">';
        html_code += '</div>';
        html_code += '<div class="col-md-2 plus">';
        html_code += '<a href="#" class="remove-row deductions"><i style="font-size: 25px;" class="bx bx-trash"></i></a>';
        html_code += '</div>';
        html_code += '</div>';

        $('#dynamicRows.deductions').append(html_code);
        updateTotalDeduction(); // Update total after adding a row
    });

    // Remove a row in the "Total Deductions" section
    $(document).on('click', '.remove-row.deductions', function(event) {
        event.preventDefault(); // Prevent the default link behavior
        if ($('#dynamicRows.deductions > .row.g-3').length > 1) {
            $(this).closest('.row.g-3').remove();
            updateTotalDeduction(); // Update total after removing a row
        }
    });

    // Listen for changes in amount input fields and update total
    $(document).on('input', '#dynamicRows.deductions .col-md-4 input', updateTotalDeduction);

    // Initial calculation of total deduction
    updateTotalDeduction();
});

$(document).ready(function() {
    // Function to calculate net salary
    function calculateNetSalary() {
        // Get the values of gross pay, total deductions, and total allowances
        var grossPay = parseFloat($('#gross_pay').val()) || 0;
        var totalDeductions = parseFloat($('#total_deduction').val()) || 0;
        var totalAllowances = parseFloat($('#total_allowance').val()) || 0;

        // Calculate net salary by subtracting deductions and adding allowances to gross pay
        var netSalary = grossPay - totalDeductions + totalAllowances;

        // Update the net salary input field
        $('#net_salary').val(netSalary.toFixed(2)); // Round to 2 decimal places
    }

    // Listen for changes in gross pay, total deductions, and total allowances
    $(document).on('input', '#gross_pay, #total_deduction, #total_allowance', calculateNetSalary);

    // Initial calculation of net salary
    calculateNetSalary();
});

    </script>
</body>

</html>